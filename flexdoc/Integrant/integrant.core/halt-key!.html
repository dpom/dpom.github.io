<html>
<head>
  <meta charset="UTF-8" />
  <title>Integrant</title>
  <link href="https://dpom.github.io/flexdoc/css/default.css" rel="stylesheet" type="text/css" />
  <link href="https://dpom.github.io/flexdoc/css/highlight.css" rel="stylesheet" type="text/css" />
  <script src="https://dpom.github.io/flexdoc/js/highlight.min.js" type="text/javascript"></script>
  <script src="https://dpom.github.io/flexdoc/js/jquery.min.js" type="text/javascript"></script>
  <script src="https://dpom.github.io/flexdoc/js/page_effects.js" type="text/javascript"></script>
  <script>
    hljs.initHighlightingOnLoad();
  </script>
</head>
<body>
  <div id="header">
    <h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2>
    <h1><a href="https://dpom.github.io/flexdoc/Integrant/index.html">
        <span class="project-title">
          <span class="project-name">Integrant</span>
          <span class="project-version">0.8.0</span>
        </span>
      </a>
    </h1>
  </div>
  <div class="sidebar primary" id="sidebar1">
  <h3 class="no-link">
    <span class="inner">Project</span>
  </h3>
  <ul class="index-link">
     <li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>integrant</span></div></div></li><li class="depth-2"><a href="https://dpom.github.io/flexdoc/Integrant/integrant.core.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>core</span></div></a></li> 
  </ul>
  </div>
  
<div class="sidebar secondary" id="sidebar2">
  <h3>
    <a href="#top">
      <span class="inner">Public Vars</span>
    </a>
  </h3>
  <ul id="pubvarmenu">
    
    <li class="depth-1" id="pubvaritem">
      <a href="https://dpom.github.io/flexdoc/Integrant/integrant.core/build.html">
        <span>build</span>
      </a>
    </li>
    
    <li class="depth-1" id="pubvaritem">
      <a href="https://dpom.github.io/flexdoc/Integrant/integrant.core/composite-keyword.html">
        <span>composite-keyword</span>
      </a>
    </li>
    
    <li class="depth-1" id="pubvaritem">
      <a href="https://dpom.github.io/flexdoc/Integrant/integrant.core/dependency-graph.html">
        <span>dependency-graph</span>
      </a>
    </li>
    
    <li class="depth-1" id="pubvaritem">
      <a href="https://dpom.github.io/flexdoc/Integrant/integrant.core/derived-from?.html">
        <span>derived-from?</span>
      </a>
    </li>
    
    <li class="depth-1" id="pubvaritem">
      <a href="https://dpom.github.io/flexdoc/Integrant/integrant.core/expand.html">
        <span>expand</span>
      </a>
    </li>
    
    <li class="depth-1" id="pubvaritem">
      <a href="https://dpom.github.io/flexdoc/Integrant/integrant.core/find-derived.html">
        <span>find-derived</span>
      </a>
    </li>
    
    <li class="depth-1" id="pubvaritem">
      <a href="https://dpom.github.io/flexdoc/Integrant/integrant.core/find-derived-1.html">
        <span>find-derived-1</span>
      </a>
    </li>
    
    <li class="depth-1" id="pubvaritem">
      <a href="https://dpom.github.io/flexdoc/Integrant/integrant.core/fold.html">
        <span>fold</span>
      </a>
    </li>
    
    <li class="depth-1" id="pubvaritem">
      <a href="https://dpom.github.io/flexdoc/Integrant/integrant.core/halt!.html">
        <span>halt!</span>
      </a>
    </li>
    
    <li class="depth-1" id="pubvaritem">
      <a href="https://dpom.github.io/flexdoc/Integrant/integrant.core/halt-key!.html">
        <span>halt-key!</span>
      </a>
    </li>
    
    <li class="depth-1" id="pubvaritem">
      <a href="https://dpom.github.io/flexdoc/Integrant/integrant.core/init.html">
        <span>init</span>
      </a>
    </li>
    
    <li class="depth-1" id="pubvaritem">
      <a href="https://dpom.github.io/flexdoc/Integrant/integrant.core/init-key.html">
        <span>init-key</span>
      </a>
    </li>
    
    <li class="depth-1" id="pubvaritem">
      <a href="https://dpom.github.io/flexdoc/Integrant/integrant.core/key-comparator.html">
        <span>key-comparator</span>
      </a>
    </li>
    
    <li class="depth-1" id="pubvaritem">
      <a href="https://dpom.github.io/flexdoc/Integrant/integrant.core/load-namespaces.html">
        <span>load-namespaces</span>
      </a>
    </li>
    
    <li class="depth-1" id="pubvaritem">
      <a href="https://dpom.github.io/flexdoc/Integrant/integrant.core/normalize-key.html">
        <span>normalize-key</span>
      </a>
    </li>
    
    <li class="depth-1" id="pubvaritem">
      <a href="https://dpom.github.io/flexdoc/Integrant/integrant.core/pre-init-spec.html">
        <span>pre-init-spec</span>
      </a>
    </li>
    
    <li class="depth-1" id="pubvaritem">
      <a href="https://dpom.github.io/flexdoc/Integrant/integrant.core/prep.html">
        <span>prep</span>
      </a>
    </li>
    
    <li class="depth-1" id="pubvaritem">
      <a href="https://dpom.github.io/flexdoc/Integrant/integrant.core/prep-key.html">
        <span>prep-key</span>
      </a>
    </li>
    
    <li class="depth-1" id="pubvaritem">
      <a href="https://dpom.github.io/flexdoc/Integrant/integrant.core/read-string.html">
        <span>read-string</span>
      </a>
    </li>
    
    <li class="depth-1" id="pubvaritem">
      <a href="https://dpom.github.io/flexdoc/Integrant/integrant.core/ref.html">
        <span>ref</span>
      </a>
    </li>
    
    <li class="depth-1" id="pubvaritem">
      <a href="https://dpom.github.io/flexdoc/Integrant/integrant.core/ref?.html">
        <span>ref?</span>
      </a>
    </li>
    
    <li class="depth-1" id="pubvaritem">
      <a href="https://dpom.github.io/flexdoc/Integrant/integrant.core/RefLike.html">
        <span>RefLike</span>
      </a>
    </li>
    
    <li class="depth-1" id="pubvaritem">
      <a href="https://dpom.github.io/flexdoc/Integrant/integrant.core/reflike?.html">
        <span>reflike?</span>
      </a>
    </li>
    
    <li class="depth-1" id="pubvaritem">
      <a href="https://dpom.github.io/flexdoc/Integrant/integrant.core/refset.html">
        <span>refset</span>
      </a>
    </li>
    
    <li class="depth-1" id="pubvaritem">
      <a href="https://dpom.github.io/flexdoc/Integrant/integrant.core/refset?.html">
        <span>refset?</span>
      </a>
    </li>
    
    <li class="depth-1" id="pubvaritem">
      <a href="https://dpom.github.io/flexdoc/Integrant/integrant.core/resolve-key.html">
        <span>resolve-key</span>
      </a>
    </li>
    
    <li class="depth-1" id="pubvaritem">
      <a href="https://dpom.github.io/flexdoc/Integrant/integrant.core/resume.html">
        <span>resume</span>
      </a>
    </li>
    
    <li class="depth-1" id="pubvaritem">
      <a href="https://dpom.github.io/flexdoc/Integrant/integrant.core/resume-key.html">
        <span>resume-key</span>
      </a>
    </li>
    
    <li class="depth-1" id="pubvaritem">
      <a href="https://dpom.github.io/flexdoc/Integrant/integrant.core/reverse-run!.html">
        <span>reverse-run!</span>
      </a>
    </li>
    
    <li class="depth-1" id="pubvaritem">
      <a href="https://dpom.github.io/flexdoc/Integrant/integrant.core/run!.html">
        <span>run!</span>
      </a>
    </li>
    
    <li class="depth-1" id="pubvaritem">
      <a href="https://dpom.github.io/flexdoc/Integrant/integrant.core/suspend!.html">
        <span>suspend!</span>
      </a>
    </li>
    
    <li class="depth-1" id="pubvaritem">
      <a href="https://dpom.github.io/flexdoc/Integrant/integrant.core/suspend-key!.html">
        <span>suspend-key!</span>
      </a>
    </li>
    
    <li class="depth-1" id="pubvaritem">
      <a href="https://dpom.github.io/flexdoc/Integrant/integrant.core/valid-config-key?.html">
        <span>valid-config-key?</span>
      </a>
    </li>
    
  </ul>
</div>

<div class="pubvar-doc" id="content">
  <h1>
    <a href="#top">
      <span class="inner" id="pubvar-name">halt-key!</span>
    </a>
  </h1>
  <h4 class="type">
     multimethod 
  </h4>
  <div class="usage">
    
    <code>(halt-key! key value)</code>
    
  </div>
  <div class="doc">
    <pre class="plaintext"> Halt a running or suspended implementation associated with a key. This is
often used for stopping processes or cleaning up resources. For example, a
database connection might be closed. This multimethod must be idempotent.
The return value of this multimethod is discarded.</pre>
  </div>
  <h2>Examples</h2>
  <div><pre><code class="language-clojure">
(ns juxt.vext.ig
  (:require
   [integrant.core :as ig]
   [juxt.vext.ring-server :as vextring])
  (:import
   (io.vertx.reactivex.core Vertx)))

...
  [_ _]
  (Vertx/vertx))

(defmethod ig/halt-key! ::vertx
  [_ vertx]
  (.close vertx))

</code></pre><a href="https://github.com/juxt/edge/blob/dfda42e035714279642b359a8610f57154efd002/lib/juxt.vext.ig/src/juxt/vext/ig.clj">juxt/edge</a></div><div><pre><code class="language-clojure">            [jackdaw.admin :as ja]
            [jackdaw.streams :as j]
            [jackdaw.repl :refer :all]
            [integrant.core :as ig]
            [integrant.repl :refer [clear go halt prep init reset reset-all]]
            [word-count]))


...
    (j/start streams-app)
    (assoc opts :streams-app streams-app)))

(defmethod ig/halt-key! :topics [_ {:keys [client-config topic-metadata]}]
  (let [re (re-pattern (str "(" (->> topic-metadata
                                     keys
                                     (map name)
                                     (str/join "|"))</code></pre><a href="https://github.com/FundingCircle/jackdaw/blob/b4f67106cc12a78d9dcc64b6cba668ab6a804d04/examples/word-count/dev/user.clj">FundingCircle/jackdaw</a></div><div><pre><code class="language-clojure">(ns zetawar.system.players
  (:require
   [integrant.core :as ig]
   [zetawar.players :as players]))

(defmethod ig/init-key :zetawar.system/players [_ opts]
  (atom {}))
...
  (atom {}))

;; TODO: re-enable once game setup is part of Integrant system
#_(defmethod ig/halt-key! :zetawar.system/players [_ players]
    (doseq [player players]
      (players/stop player)))</code></pre><a href="https://github.com/Zetawar/zetawar/blob/dc1ee8d27afcac1cd98904859289012c2806e58c/src/cljs/zetawar/system/players.cljs">Zetawar/zetawar</a></div><div><pre><code class="language-clojure">(ns bridge.web.jetty
  (:require [integrant.core :as ig]
            [ring.adapter.jetty :as jetty]))

(defmethod ig/init-key :adapter/jetty [_ opts]
  (let [handler (atom (delay (:handler opts)))
...
    {:handler handler
     :server  (jetty/run-jetty (fn [req] (@@handler req)) options)}))

(defmethod ig/halt-key! :adapter/jetty [_ {:keys [server]}]
  (.stop server))

(defmethod ig/suspend-key! :adapter/jetty [_ {:keys [handler]}]
  (reset! handler (promise)))</code></pre><a href="https://github.com/robert-stuttaford/bridge/blob/867d81354457c600cc5c25917de267a8e267c853/src/bridge/web/jetty.clj">robert-stuttaford/bridge</a></div><div><pre><code class="language-clojure">(ns sass4clj.integrant
  (:require [sass4clj.api :as api]
            [integrant.core :as ig]))

(defmethod ig/init-key ::sass4clj [_ options]
  (api/start options))

...
(defmethod ig/init-key ::sass4clj [_ options]
  (api/start options))

(defmethod ig/halt-key! ::sass4clj [_ watcher]
  (api/stop watcher))

(defmethod ig/suspend-key! ::sass4clj [_ watcher]
  nil)</code></pre><a href="https://github.com/Deraen/sass4clj/blob/55c359471ccdc566591f3b38895d2e313f9d24d4/src/sass4clj/integrant.clj">Deraen/sass4clj</a></div>
</div>

</body>
</html>